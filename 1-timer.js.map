{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\"\nimport \"izitoast/dist/css/iziToast.min.css\"\n\nconst startBtn = document.querySelector(\"[data-start]\")\nconst daysSpan = document.querySelector(\"[data-days]\")\nconst hoursSpan = document.querySelector(\"[data-hours]\")\nconst minutesSpan = document.querySelector(\"[data-minutes]\")\nconst secondsSpan = document.querySelector(\"[data-seconds]\")\nconst dateTimePicker = document.querySelector(\"#datetime-picker\")\n\nlet selectedDay = null\nlet interval = null\n    \nstartBtn.disabled = true\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      selectedDay = selectedDates[0];\n      \n      if (selectedDates <= new Date()) {\n          startBtn.disabled = true\n          iziToast.error({\n              title: \"Error\",\n              message: \"Please choose a date in the future\",\n              position: \"topCenter\"\n          })\n      } else {\n          startBtn.disabled = false\n}\n}\n}\nflatpickr(dateTimePicker, options)\nfunction addZero(value) {\n     return value.toString().padStart(2, \"0\")\n}\nfunction updateTime(timeLeft) {\n    const days = Math.floor(timeLeft /  (1000 * 60 * 60 * 24))\n    const hours = Math.floor(timeLeft %  (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\n    const minutes = Math.floor(timeLeft %  (1000 * 60 * 60) / (1000 * 60))\n    const seconds = Math.floor(timeLeft % (1000 * 60) / 1000)\n     daysSpan.textContent = addZero(days);\n  hoursSpan.textCont = addZero (hours);\n  minutesSpan.textContent = addZero(minutes);\n  secondsSpan.textContent = addZero(seconds);\n} \nfunction startTimer() {\n    startBtn.disabled = true\n    dateTimePicker.disabled = true\n    interval = setInterval(() => {\n        const now = new Date().getTime()\n        const timeLeft = selectedDay - now\n        if (timeLeft <= 0) {\n            clearInterval(interval)\n            updateTime(0)\n            iziToast.success({\n                title: \"Success\",\n                message: \"Finished\",\n                position: \"topCenter\"\n            })\n            dateTimePicker.disabled = false\n            return\n        }\n        updateTime(timeLeft)\n    },1000)\n}\nstartBtn.addEventListener(\"click\", startTimer)"],"names":["startBtn","daysSpan","hoursSpan","minutesSpan","secondsSpan","dateTimePicker","selectedDay","interval","options","selectedDates","iziToast","flatpickr","addZero","value","updateTime","timeLeft","days","hours","minutes","seconds","startTimer","now"],"mappings":"2GAKA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAiB,SAAS,cAAc,kBAAkB,EAEhE,IAAIC,EAAc,KACdC,EAAW,KAEfP,EAAS,SAAW,GAEpB,MAAMQ,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBH,EAAcG,EAAc,CAAC,EAEzBA,GAAiB,IAAI,MACrBT,EAAS,SAAW,GACpBU,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACT,SAAU,WACxB,CAAW,GAEDV,EAAS,SAAW,EAE9B,CACA,EACAW,EAAUN,EAAgBG,CAAO,EACjC,SAASI,EAAQC,EAAO,CACnB,OAAOA,EAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,CAC5C,CACA,SAASC,EAAWC,EAAU,CAC1B,MAAMC,EAAO,KAAK,MAAMD,EAAa,KAAoB,EACnDE,EAAQ,KAAK,MAAMF,GAAa,IAAO,GAAK,GAAK,GAAG,GAAK,IAAO,GAAK,IACrEG,EAAU,KAAK,MAAMH,GAAa,IAAO,GAAK,KAAO,IAAO,GAAG,EAC/DI,EAAU,KAAK,MAAMJ,GAAY,IAAO,IAAM,GAAI,EACvDd,EAAS,YAAcW,EAAQI,CAAI,EACtCd,EAAU,SAAWU,EAASK,CAAK,EACnCd,EAAY,YAAcS,EAAQM,CAAO,EACzCd,EAAY,YAAcQ,EAAQO,CAAO,CAC3C,CACA,SAASC,GAAa,CAClBpB,EAAS,SAAW,GACpBK,EAAe,SAAW,GAC1BE,EAAW,YAAY,IAAM,CACzB,MAAMc,EAAM,IAAI,KAAM,EAAC,QAAS,EAC1BN,EAAWT,EAAce,EAC/B,GAAIN,GAAY,EAAG,CACf,cAAcR,CAAQ,EACtBO,EAAW,CAAC,EACZJ,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,WACT,SAAU,WAC1B,CAAa,EACDL,EAAe,SAAW,GAC1B,MACH,CACDS,EAAWC,CAAQ,CACtB,EAAC,GAAI,CACV,CACAf,EAAS,iBAAiB,QAASoB,CAAU"}